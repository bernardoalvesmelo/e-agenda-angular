<div class="container d-flex flex-column align-items-center">
  <h1 class="fw-bold text-primary mt-2">Inserir Novo Compromisso</h1>

  <form [formGroup]="form" (ngSubmit)="gravar()" class="d-flex flex-column mt-3">
    <mat-form-field>
      <mat-label>Assunto:</mat-label>
      <input matInput formControlName="assunto" class="form-control" type="text"
        placeholder="Digite o assunto do compromisso" required />
    </mat-form-field>

    <div class="pb-2 d-flex flex-column">
      <mat-label class="form-label">Tipo de Compromisso:</mat-label>
      <mat-radio-group formControlName="tipoLocal">
        <mat-radio-button [value]="0">Remoto</mat-radio-button>
        <mat-radio-button [value]="1">Presencial</mat-radio-button>
      </mat-radio-group>

    </div>
    <mat-form-field>
      <mat-label>Link:</mat-label>
      <input formControlName="link" matInput class="form-control" type="text"
        placeholder="Digite o link do compromisso" />

    </mat-form-field>

    <mat-form-field>
      <mat-label>Local:</mat-label>
      <input matInput formControlName="local" class="form-control" type="text"
        placeholder="Digite o local do compromisso" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Data</mat-label>
      <input formControlName="data" class="form-control" matInput [matDatepicker]="picker">
      <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Hora de Início:</mat-label>
      <input matInput type="time" formControlName="horaInicio" class="form-control" />
      <mat-error *ngIf="campoEstaInvalido('horaInicio')" class="pb-1">
        A hora de início precisa ser preenchida.
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Hora de Término:</mat-label>
      <input matInput type="time" formControlName="horaTermino" class="form-control" />
      <mat-error *ngIf="campoEstaInvalido('horaTermino')" class="pb-1">
        A hora de término precisa ser preenchida.
      </mat-error>
    </mat-form-field>

    <div class="d-flex flex-column">
      <label class="form-label">Contato:</label>
      <mat-select formControlName="contatoId" class="form-select" name="categoriaId" id="">
        <mat-option *ngFor="let contato of contatos" [value]="contato.id">
          {{ contato.nome }}
        </mat-option>
      </mat-select>
    </div>

    <div class="card-footer g-grid d-flex gap-1 mt-4 mb-1">
      <button data-cy="btnGravar" type="submit" mat-fab extended color="primary" class="px-4">
        <mat-icon class="bi bi-save me-2"></mat-icon>
        Gravar
      </button>
      <button routerLink="/compromissos/listar" type="button" mat-fab extended color="basic" class="px-4">
        <mat-icon class="bi bi-arrow-return-left me-2"></mat-icon>
        Voltar
      </button>
    </div>
  </form>
</div>